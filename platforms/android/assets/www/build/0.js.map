{"version":3,"sources":["../../src/pages/paymenthistorydj--/paymenthistorydj.module.ts","../../src/pages/paymenthistorydj--/paymenthistorydj.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PaymenthistorydjPage } from './paymenthistorydj';\n\n@NgModule({\n  declarations: [\n    PaymenthistorydjPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PaymenthistorydjPage),\n  ],\n})\nexport class PaymenthistorydjPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paymenthistorydj--/paymenthistorydj.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController} from 'ionic-angular';\nimport {Http, Headers, RequestOptions} from '@angular/http';\nimport { Appsetting } from '../../providers/appsetting';\nimport { PayPal, PayPalPayment, PayPalConfiguration } from '@ionic-native/paypal';\nimport { EventsdjPage } from '../eventsdj/eventsdj';\n/**\n * Generated class for the PaymenthistorydjPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-paymenthistorydj',\n  templateUrl: 'paymenthistorydj.html',\n})\nexport class PaymenthistorydjPage {\n  public pastevntid;\n  public payhistdata;\n  public totalpay;\n  public Loader = this.loadingCtrl.create({\n    content: 'Please wait...',\n    dismissOnPageChange: true\n  });\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams, \n    public http: Http,\n    public appsetting: Appsetting,\n    public loadingCtrl: LoadingController,\n    private payPal: PayPal,\n    private alertCtrl: AlertController) {\n      this.pastevntid = navParams.get(\"eventid\");\n      this.getpayhistory(this.pastevntid);\n  }\n\n  getpayhistory(eventid){\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/x-www-form-urlencoded;charset=utf-8');\n    var options = new RequestOptions({ headers: headers });\n    var Userid = JSON.parse(localStorage.getItem(\"USER_DATA\")).id;\n    let Loader = this.loadingCtrl.create({\n      content: 'Please wait...',\n      dismissOnPageChange: true\n    });\n    Loader.present().then(() => {\n      var data = {\n        eventid: eventid,\n        djid: Userid,\n        requestype: 1,\n            }\n      var serialized = this.serializeObj(data);\n      this.http.post(this.appsetting.myGlobalVar + 'events/paymenthist', serialized, options)\n        .map(res => res.json())\n        .subscribe(data => {\n          Loader.dismiss();\n          console.log(data);\n          if (data.isSucess == \"true\") {\n            this.payhistdata = data.data;\n            this.totalpay=0;\n            for(let dat of this.payhistdata) {\n              if(dat.ClubgoerRequest.refund_status==0){\n                  this.totalpay = parseInt(this.totalpay)+parseInt(dat.ClubgoerRequest.djshare);\n                }\n              }\n          } else {\n            this.payhistdata = [];\n            this.totalpay=0;\n          }\n        })\n    });\n  }\n\n  ionViewDidEnter() {\n    if (window.navigator.onLine == true) {\n    } else {\n      this.Loader.dismissAll();\n      let alert = this.alertCtrl.create({\n        title: 'Network connection',\n        subTitle: 'Something went wrong check your internet connection',\n        buttons:['ok']\n      });\n      alert.present();\n      setTimeout(() => alert.dismiss(), 3500);\n    }\n  }\n\n  refundnow(clubgoerqstid,money,song,artist,adminemail)\n  {\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/x-www-form-urlencoded;charset=utf-8');\n      let options = new RequestOptions({ headers: headers });\n      //var userdata = JSON.parse(localStorage.getItem(\"USER_DATA\"));\n      var data = {\n          id : clubgoerqstid,\n          //sub_id : this.subscriv.id\n        }\n        var description = song+\", \"+artist;\n      var Serialized = this.serializeObj(data);\n      this.payPal.init({\n        PayPalEnvironmentProduction: 'YOUR_PRODUCTION_CLIENT_ID',\n        PayPalEnvironmentSandbox: 'Af3HzSUz5a2jlbLEK1bJqLYRekJEGam9p0kdR7Pqn5WdPqvHWQ2D5BOkdbnjX7RS6AOF5KkxOMm_Kv9k'\n  }).then(() => {\n    // Environments: PayPalEnvironmentNoNetwork, PayPalEnvironmentSandbox, PayPalEnvironmentProduction\n    this.payPal.prepareToRender('PayPalEnvironmentSandbox', new PayPalConfiguration({\n      // Only needed if you get an \"Internal Service Error\" after PayPal login!\n      //payPalShippingAddressOption: 2 // PayPalShippingAddressOptionPayPal\n    })).then(() => {\n      let payment = new PayPalPayment(money, 'USD', description, 'sale');\n      this.payPal.renderSinglePaymentUI(payment).then(() => {\n        this.http.post(this.appsetting.myGlobalVar + 'subscriptions/refund', Serialized, options).map(res => res.json()).subscribe(response => {\n          if(response.isSucess==\"true\"){\n            this.payhistdata = response.data;\n            this.totalpay=0;\n            for(let dat of this.payhistdata) {\n              if(dat.ClubgoerRequest.refund_status==0){\n                  this.totalpay = parseInt(this.totalpay)+parseInt(dat.ClubgoerRequest.djshare);\n                }\n              }\n              let alertr = this.alertCtrl.create({\n                  title: 'Subscribed',\n                  subTitle: response.msg,\n                  buttons:['ok']\n                });\n                  alertr.present();\n              setTimeout(()=>alertr.dismiss(),3500);\n          } else {\n              let alert = this.alertCtrl.create({\n                  title: 'Subscribed',\n                  subTitle: response.msg,\n                  buttons:['ok']\n                });\n                  alert.present();\n              setTimeout(()=>alert.dismiss(),3500);\n          }\n      });\n      }, () => {\n        // Error or render dialog closed without being successful\n      });\n    }, () => {\n      // Error in configuration\n    });\n  }, () => {\n    // Error in initialization, maybe PayPal isn't supported or something else\n  });\n  }\n  \n  serializeObj(obj) {\n    var result = [];\n    for (var property in obj)\n      result.push(encodeURIComponent(property) + \"=\" + encodeURIComponent(obj[property]));\n        return result.join(\"&\");\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PaymenthistorydjPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paymenthistorydj--/paymenthistorydj.ts"],"sourceRoot":""}